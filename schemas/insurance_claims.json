{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Insurance-Claim Case",
  "type": "object",
  "required": ["cluster", "events"],
  "additionalProperties": false,

  "properties": {
    "cluster": {
      "type": "string",
      "enum": [
        "Auto Accident",
        "Home Damage",
        "Health Reimbursement",
        "Other"
      ]
    },
    "events": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "required": [
          "activity",
          "timestamp",
          "contextual_activity",
          "message"
        ],
        "additionalProperties": false,
        "properties": {
          "activity": {
            "type": "string",
            "enum": [
              "Claim Filed",
              "Claim Categorised",
              "Agent Assigned",
              "Claim Acknowledged",
              "Documents Requested",
              "Documents Submitted",
              "Investigation Started",
              "Investigation Completed",
              "Settlement Proposed",
              "Customer Feedback Received",
              "Claim Escalated",
              "Claim Approved",
              "Payment Issued",
              "Claim Closed",
              "Claim Archived"
            ]
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "contextual_activity": {
            "type": "string",
            "pattern": "^(Claim Filed|Claim Categorised|Agent Assigned|Claim Acknowledged|Documents Requested|Documents Submitted|Investigation Started|Investigation Completed|Settlement Proposed|Customer Feedback Received|Claim Escalated|Claim Approved|Payment Issued|Claim Closed|Claim Archived) \\((Positive|Neutral|Negative)\\)$"
          },
          "message": {
            "type": "string",
            "minLength": 50
          }
        }
      }
    }
  }
}
